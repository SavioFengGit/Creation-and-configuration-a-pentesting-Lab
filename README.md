# First-Offensive-Security-Pentesting
Creation and configuration a lab for pentesting

Creazione di tre macchine virtuali:
- Attaccante con kali linux .
- Target (Metasploitable 2 basato su linux server).
- Target (Metasploitable 3 basato su windows server 2008).

La parte di creazione e di installazione delle macchine virtuali è dato per scontato, e per questo non inserirò i passaggi sul repository.

Le reti delle macchine virtuali vengono settate tutte su host only adapter per far comunicare le macchine virtuali internamente tra di loro. 

Controllare la raggiungibilità tra le varie macchine attraverso i comandi:
Kali linux ha un indirizzo IP 192.168.56.102 e raggiunge la macchina di meta3 nello Screenshot di IP 192.168.56.101

Il ping verso la macchina meta 2 con indirizzo IP 192.168.56.103

Si effettuano degli snapshot per salvare lo stato delle macchine.![image](https://user-images.githubusercontent.com/107345962/176416517-9c666b22-517e-48fa-9cd8-d2553382fbae.png)




Usiamo gns3 per simulare una rete aziendale, poi lo inseriremo all'interno della nostra rete locale vera.
Inseriamo 3 pc collegate attraverso un router cisco, bisogna scaricare l'iso del router3725 e caricarlo.![image](https://user-images.githubusercontent.com/107345962/176418113-bc57a520-cc0a-4813-ae10-d3ebc6574861.png)


Il cloud mi permette di far comunicare la rete con kali linux
A R1 servono 4 schede di rete. Configuro R1 con 4 schede di rete



![image](https://user-images.githubusercontent.com/107345962/176418160-f7c35722-4aa0-400d-9650-785c03fd04dd.png)



Poi vado a configurare cloud1
Gli inseriamo il network presente sulla virtual machine di kali

Ora può connettere sia la scheda ethernet che la virtualbox. 
Connetti tutti i componenti e starta
![image](https://user-images.githubusercontent.com/107345962/176418197-27b7b9c9-58e2-451e-a567-44eda40bc839.png)



Assegnamo l'indirizzo 192.168.56.102 (kali linux)
Apriamo il router e inseriamo
Conf t
Interface fastEthernet0/0
Ip address 192.168.56.10 255.255.255.0
No shut (tira su l'interfaccia)
Exit
Exit


Sh ip interface brief per vedere se la porta è su

Lo si fa per tutte le porte
Conf t
Interface fastEthernet0/1
Ip address 192.168.10.1 255.255.255.0
No shut (tira su l'interfaccia)
Exit
exit

Conf t
Interface fastEthernet1/0
Ip address 192.168.20.1 255.255.255.0
No shut (tira su l'interfaccia)
Exit
Exit

Conf t
Interface fastEthernet2/0
Ip address 192.168.30.1 255.255.255.0
No shut (tira su l'interfaccia)
Exit
exit
copy running-config startup-config (per salvare la config)
![image](https://user-images.githubusercontent.com/107345962/176418262-bf9fc59a-f2c3-48b5-ba00-71e31f5f230b.png)






Configurazione PC-1
Ip 192.168.10.2 255.255.255.0 192.168.10.1 (l'ultimop è default gateway e bisogna settarlo)
Sh ip (per vedere il default gateway)

Ping 192.168.10.1 (pinga il default gateway per vedere se la configurazione è andata


PC-2
Ip 192.168.20.2 255.255.255.0 192.168.20.1

PC-3
Ip 192.168.30.2 255.255.255.0 192.168.30.1 (il primo è lui il secondo mask e il terzo default)

Ricordati di fare SAVE per salvare tutto sui pc
![image](https://user-images.githubusercontent.com/107345962/176418325-2ee8d5bf-c9cf-41a6-a9e3-82de0c14fcb4.png)


ATTENZIONE A VOLTE SU GNS3 NON PARTE IL CLOUD E DA UN ERRORE, QUIELL'ERRORE è RISOLVIBILE ATTIVANDO DA CMD 
NET START NPF (NON SI ATTIVA A VOLTE)


Testa i vari ping tra i vari pc, per vedere la raggiungibilità di tutti i pc.

Imposta il default gateway su kali linux (integro la rete gns3 con kali linux (sarebbe il cloud))

Prova a pingare da kali su 192.168.56.10 per vedere se lo raggiunge. Pinga l'interfaccia del router. 
per impostare il default gateway 56.10 fai 

Poi prova a pingare una delle macchine e non il router, ex 192.168.30.2, se lo raggiunge ok. 
![image](https://user-images.githubusercontent.com/107345962/176418404-f81881d7-5f74-464f-99b6-de507cf6c59d.png)
